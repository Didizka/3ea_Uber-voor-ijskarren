
<ion-header>

  <ion-navbar>
    <ion-buttons right="">
      <button type="button" ion-button icon-only (click)="onLogout()">
        <ion-icon name="log-out"></ion-icon>
        Logout
      </button>
    </ion-buttons>
    <ion-title>{{title}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding="">

  <!-- Slidebar -->
  <p text-center class="no-padding">Zoek in een straal van <b>{{distance}}</b> km</p>
  <ion-range class="no-padding" min="11" max="15" pin="true" [(ngModel)]="zoom" (ionChange)="onRangeChange($event)" padding="0">  <!-- (ionChange)="onRangeChange($event)" -->
    <ion-icon range-left small name="pin"></ion-icon>
    <ion-icon range-right name="pin"></ion-icon>
  </ion-range>


  <!-- Map -->

<div #map id="map" data-tap-disabled="true"></div>

  <!-- Position button -->
  <ion-buttons>
      <button type="button" ion-button full (click)="ngOnInit()" round="">
        <ion-icon></ion-icon><!--navigate-->
        Show my current position
      </button>
    </ion-buttons>

    <!-- List of drivers -->
  <div *ngIf="areDriversProcessed">
    <ion-card *ngFor="let driver of driversInZone" (click)="onChooseDriver(driver)">
      <ion-card-content>
        <ion-row>
          <p><b>Naam: </b> {{driver?.firstName }} {{ driver?.lastName}}</p>
        </ion-row>
        <ion-row>
          <p><b>Afstand: </b>{{driver?.distance / 1000 | number: '1.2-2'}} km</p>
        </ion-row>
        <ion-row>
          <p><b>Duur: </b>{{driver?.duration / 60 | number: '1.1-1'}} min</p>
        </ion-row>
        <ion-row >
          <ion-col col-9>
            <p><b>Locatie: </b>{{driver?.locationAddress}}</p>
          </ion-col>
          <ion-col col-3 *ngIf="driver?.totalPrice">
            <h3  class="roundBorder" >{{driver?.totalPrice | number: '1.2-2'}}</h3>
          </ion-col>
        </ion-row>

      </ion-card-content>
    </ion-card>
  </div>
  <ion-fab right bottom *ngIf="!drivers[0]?.totalPrice">
    <button ion-fab color="primary" (click)="placeOrder()"><ion-icon name="add"></ion-icon></button>
  </ion-fab>
</ion-content>
