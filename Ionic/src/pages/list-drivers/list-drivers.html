
<ion-header>

    <ion-navbar>
      <ion-buttons right="">
        <button type="button" ion-button icon-only (click)="onLogout()" color="primary">
          <ion-icon name="log-out"></ion-icon>
          Logout
        </button>
      </ion-buttons>
      <ion-title >{{title}}</ion-title>
    </ion-navbar>

  </ion-header>


  <ion-content padding="">

    <!-- Slidebar -->
    <p text-center class="no-padding">Zoek in een straal van <b>{{distance}}</b> km</p>
    <ion-range class="no-padding" min="11" max="15" pin="true" [(ngModel)]="zoom" (ionChange)="onRangeChange($event)" padding="0">  <!-- (ionChange)="onRangeChange($event)" -->
      <ion-icon range-left small name="pin"></ion-icon>
      <ion-icon range-right name="pin"></ion-icon>
    </ion-range>


    <!-- Map -->

  <div #map id="map" data-tap-disabled="true"></div>

    <!-- Position button -->
    <ion-buttons padding>
        <button type="button" ion-button full (click)="getUserPosition()" round="" >
          <ion-icon></ion-icon><!--navigate-->
          Show my current position
        </button>

        <button type="button" ion-button full (click)="showDriversInZone()" round="">
          <ion-icon></ion-icon><!--navigate-->
          Show drivers in range
        </button>
      </ion-buttons>

      <!-- List of drivers -->
    <div *ngIf="driversInZone">
      <ion-card *ngFor="let driver of driversInZone" (click)="onChooseDriver(driver)">
          <ion-list>
            <ion-item>
              <ion-icon name="contact" icon-only large="" icon-start color="primary"></ion-icon>
              {{driver?.firstName }} {{ driver?.lastName}}
            </ion-item>
            <ion-item >
              <ion-icon name="locate" icon-only large="" icon-start color="primary"></ion-icon>
              <div class="itemTest">{{driver?.locationAddress}}</div>
            </ion-item>
            <ion-item>
              <ion-icon name="navigate" icon-only large="" icon-start color="primary"></ion-icon>
              {{driver?.distance / 1000 | number: '1.2-2'}} km
            </ion-item>
            <ion-item>
              <ion-icon name="time" icon-only large="" icon-start color="primary"></ion-icon>
              {{driver?.duration / 60 | number: '1.1-1'}} min
              <h3  class="roundBorder" item-end *ngIf="driver?.totalPrice">{{driver?.totalPrice | number: '1.2-2'}}</h3>
            </ion-item>
          </ion-list>
      </ion-card>
    </div>
    <ion-fab right bottom *ngIf="!drivers[0]?.totalPrice">
      <button ion-fab color="primary" (click)="placeOrder()"><ion-icon name="add"></ion-icon></button>
    </ion-fab>
  </ion-content>
